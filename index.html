<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>üçï ITALIAN_BRAINROT_LAG_SIM ü§å</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* --- AESTHETICS & LAG VISUALS --- */
        body {
            margin: 0;
            background-color: #050505;
            color: #fff;
            font-family: 'Comic Sans MS', 'Impact', sans-serif;
            overflow: hidden;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" style="font-size:25px"><text y="25">ü§å</text></svg>'), auto;
        }

        /* The "Lag" Layer - CSS that looks glitchy */
        .glitch-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(45deg, rgba(0,255,0,0.1), rgba(255,0,0,0.1), rgba(0,0,255,0.1));
            pointer-events: none;
            z-index: 5;
            animation: chromatic 2s infinite alternate;
            mix-blend-mode: exclusion;
        }

        @keyframes chromatic {
            0% { transform: translate(2px, 0) scale(1.01); }
            25% { transform: translate(-2px, 2px) skew(2deg); }
            50% { transform: translate(2px, -2px) scale(0.99); }
            75% { transform: translate(-2px, 0) skew(-2deg); }
            100% { transform: translate(2px, 2px) scale(1.01); }
        }

        /* Background Particle Spam */
        .particle {
            position: absolute;
            font-size: 2rem;
            pointer-events: none;
            animation: float-up 3s linear infinite;
            opacity: 0.5;
            z-index: 1;
        }
        @keyframes float-up {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
        }

        /* --- UI ELEMENTS --- */
        .container {
            position: relative;
            z-index: 10;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 100vh; width: 100vw;
            backdrop-filter: blur(5px);
            text-align: center;
        }

        h1 {
            font-size: 5rem;
            /* Italian Flag Gradient Text */
            background: linear-gradient(90deg, #008C45, #F4F9FF, #CD212A);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0px 0px 10px rgba(255,255,255,0.8));
            animation: shake 2s infinite;
        }

        .btn {
            background: #222;
            border: 4px solid #fff;
            color: #fff;
            font-size: 2rem;
            padding: 20px 50px;
            cursor: pointer;
            box-shadow: 10px 10px 0px #008C45, -10px -10px 0px #CD212A;
            transition: 0.2s;
            font-family: 'Impact';
            letter-spacing: 2px;
        }
        .btn:hover {
            transform: scale(1.1) rotate(5deg);
            background: white;
            color: black;
            box-shadow: 0 0 50px gold;
        }

        /* --- ANIMATIONS --- */
        @keyframes shake {
            0% { transform: translate(0,0) rotate(0deg); }
            2% { transform: translate(5px,5px) rotate(2deg); }
            4% { transform: translate(-5px,-5px) rotate(-2deg); }
            6% { transform: translate(0,0) rotate(0deg); }
            100% { transform: translate(0,0) rotate(0deg); }
        }

        .hidden { display: none !important; }

        /* --- GAME CANVAS --- */
        #game-canvas {
            background: #111;
            border: 10px groove gold;
            box-shadow: 0 0 50px rgba(255, 0, 0, 0.5);
        }

    </style>
</head>
<body>

    <div class="glitch-layer"></div>
    <div id="particle-container"></div>

    <div id="intro" class="container">
        <h1>ü§å ITALIAN <br> BRAINROT ü§å</h1>
        <h2 style="color: yellow; text-shadow: 2px 2px 0 red;">CAUTION: HIGH CPU USAGE AESTHETIC</h2>
        <p>Volume Up for Meme Sounds</p>
        <button class="btn" onclick="startChaos()">START DA PIZZA</button>
    </div>

    <div id="game-ui" class="container hidden">
        <h2 style="font-size: 3rem; color: cyan;">LEVEL 1: OHIO DASH</h2>
        <p>Hold SPACE or CLICK to fly (Easy Mode)</p>
        <canvas id="game-canvas" width="600" height="300"></canvas>
        <h3 id="score">SCORE: 0</h3>
    </div>

    <div id="quiz-ui" class="container hidden">
        <h1 style="color: lime;">THE VIBE CHECK</h1>
        <div id="q-box" style="background: rgba(0,0,0,0.8); padding: 20px; border: 2px solid white;">
            <h2 id="q-text">...</h2>
            <div id="q-opts"></div>
        </div>
    </div>

    <div id="outro" class="container hidden">
        <h1 style="font-size: 6rem; line-height: 1;">MAMMA MIA!</h1>
        <div style="font-size: 4rem; font-weight: bold; text-transform: uppercase;">
            <div style="color: #008C45;">üçï EAT PIZZA</div>
            <div style="color: #F4F9FF; text-shadow: 0 0 10px blue;">üò¥ SLEEP</div>
            <div style="color: #CD212A; font-size: 6rem; animation: shake 0.1s infinite;">üëπ GOON</div>
            <div style="color: gold;">üîÅ REPEAT</div>
        </div>
        <br>
        <button class="btn" onclick="location.reload()">PRESTIGE</button>
    </div>

    <script>
        // --- AUDIO MEME ENGINE ---
        // Using synthesis to approximate memes without external files
        const synth = window.speechSynthesis;
        
        function memeSound(type) {
            if(synth.speaking) synth.cancel();
            
            let text = "";
            let u = new SpeechSynthesisUtterance();
            u.volume = 1;

            if (type === "ohhh") {
                // Simulating "OHHHHHH!" (Rap battle reaction)
                text = "Ohhhhhhhhhhhhhhhhhhhhhhhhh!"; 
                u.rate = 1.5; 
                u.pitch = 1.5;
            } 
            else if (type === "boi") {
                // "Boi what the hell"
                text = "Boy. What the hell boy."; 
                u.rate = 1.3; 
                u.pitch = 0.1; // Deep voice
            }
            else if (type === "italian") {
                text = "Mamma mia! Spaghetti!";
                u.lang = "it-IT"; // Try to force Italian accent
                u.rate = 1.2;
            }
            else if (type === "boom") {
                text = "Boom.";
                u.rate = 0.5;
                u.pitch = 0.1;
            }

            u.text = text;
            synth.speak(u);
        }

        // --- LAG GENERATOR (VISUALS) ---
        function spawnLag() {
            const emojis = ["üçï", "üöΩ", "ü§å", "üíÄ", "üçù", "üßø"];
            const container = document.getElementById('particle-container');
            
            // Spawn 50 particles every second to create visual noise
            setInterval(() => {
                for(let i=0; i<5; i++) {
                    const el = document.createElement('div');
                    el.innerText = emojis[Math.floor(Math.random()*emojis.length)];
                    el.className = 'particle';
                    el.style.left = Math.random() * 100 + 'vw';
                    el.style.fontSize = (Math.random() * 3 + 1) + 'rem';
                    el.style.animationDuration = (Math.random() * 2 + 1) + 's';
                    container.appendChild(el);
                    
                    // Cleanup to prevent actual browser crash, just visual lag
                    setTimeout(() => el.remove(), 3000);
                }
            }, 200);
        }

        // --- GAME LOGIC (EASY MODE) ---
        function startChaos() {
            document.getElementById('intro').classList.add('hidden');
            document.getElementById('game-ui').classList.remove('hidden');
            spawnLag(); // START THE VISUALS
            memeSound("ohhh");
            initGame();
        }

        let canvas, ctx;
        let player = { x: 50, y: 150, dy: 0, grounded: false };
        let obstacles = [];
        let score = 0;
        let gameActive = false;

        function initGame() {
            canvas = document.getElementById('game-canvas');
            ctx = canvas.getContext('2d');
            gameActive = true;
            
            // Listeners
            document.body.onkeydown = (e) => { if(e.code === 'Space') jump(); };
            document.body.onmousedown = jump;
            document.body.ontouchstart = jump;
            
            loop();
        }

        function jump() {
            // Very floaty, easy jump
            player.dy = -8; 
            player.grounded = false;
        }

        function loop() {
            if(!gameActive) return;
            requestAnimationFrame(loop);
            ctx.clearRect(0, 0, 600, 300);

            // Physics (Low Gravity - Easy)
            player.dy += 0.3; 
            player.y += player.dy;

            // Floor/Ceiling collision
            if(player.y > 260) { player.y = 260; player.dy = 0; }
            if(player.y < 0) { player.y = 0; player.dy = 0; }

            // Draw Player (Pizza Slice)
            ctx.font = "40px Arial";
            ctx.fillText("üçï", player.x, player.y + 30);

            // Obstacles (Slow and Spread out)
            if(Math.random() < 0.005) { // Very rare spawn
                obstacles.push({ x: 600, h: 50 });
            }

            obstacles.forEach(o => {
                o.x -= 3; // Slow speed
                
                // Draw Spike (Red Triangle)
                ctx.fillStyle = "red";
                ctx.beginPath();
                ctx.moveTo(o.x, 300);
                ctx.lineTo(o.x + 20, 250);
                ctx.lineTo(o.x + 40, 300);
                ctx.fill();

                // Hitbox (Forgiving)
                if(player.x + 30 > o.x && player.x < o.x + 30 && player.y > 240) {
                    // Hit!
                    memeSound("boi");
                    // Flash screen red but DONT restart (too easy to fail otherwise)
                    document.body.style.background = "red";
                    setTimeout(() => document.body.style.background = "#050505", 100);
                }
            });

            obstacles = obstacles.filter(o => o.x > -50);

            score++;
            document.getElementById('score').innerText = "SCORE: " + score;

            // Win condition
            if(score > 300) {
                gameActive = false;
                memeSound("ohhh");
                startQuiz();
            }
        }

        // --- QUIZ LOGIC ---
        function startQuiz() {
            document.getElementById('game-ui').classList.add('hidden');
            document.getElementById('quiz-ui').classList.remove('hidden');
            
            const q = {
                text: "WHAT IS THE CAPITAL OF PIZZA?",
                opts: ["NAPLES", "OHIO", "SKIBIDI"],
                ans: 1 // Ohio (Meme answer)
            };

            document.getElementById('q-text').innerText = q.text;
            const div = document.getElementById('q-opts');
            q.opts.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = "btn";
                btn.style.margin = "10px";
                btn.innerText = opt;
                btn.onclick = () => {
                    if(i === 1) { // Correct
                         memeSound("ohhh");
                         endScreen();
                    } else {
                        memeSound("boi"); // Wrong
                        alert("NOT AESTHETIC. TRY AGAIN.");
                    }
                };
                div.appendChild(btn);
            });
        }

        // --- OUTRO ---
        function endScreen() {
            document.getElementById('quiz-ui').classList.add('hidden');
            document.getElementById('outro').classList.remove('hidden');
            
            // Loop the mantra audio
            const words = ["Eat Pizza", "Sleep", "Goon", "Repeat"];
            let idx = 0;
            setInterval(() => {
                // Highlighting effect
                document.body.style.filter = `hue-rotate(${Math.random() * 360}deg)`;
                
                let word = words[idx];
                let u = new SpeechSynthesisUtterance(word);
                u.rate = 1.5;
                if(word === "Goon") { u.pitch = 0.1; u.rate = 0.5; } // Deep voice for funny
                synth.speak(u);

                idx = (idx + 1) % words.length;
            }, 1000);
        }

    </script>
</body>
</html>
